<!DOCTYPE html>
<html>
    <head>
        <title>fleximeter</title>
        <link href="css/stylesheet.css" rel="stylesheet"/>
    </head>
    <body>
        <header><h1><a href="index.html">fleximeter composition and analysis software</a></h1></header>
        <nav>
            <div class="navDiv">
                <a href="pctheory.html">pctheory</a>
                <a href="set-manipulator.html">SetManipulator</a>
                <a href="doc.html">Documentation</a>
                <a href="about.html">About</a>
                <a href="https://jeffreymartincomposer.com/">Composer Website</a>
            </div>
        </nav>

        <div class="mainDiv">
            <div class="article">
                <h2>2.4. pctheory.pcseg</h2>
                <p>
                    This module contains classes and functions for working with pcsegs. A pcseg is
                    any permutation of pitch-classes, represented as a <span class="code pyKeyword">list</span>
                    of <span class="code pyClass">PitchClass12</span> or <span class="code pyClass">PitchClass24</span>
                    elements. A row is a pcseg that contains all of the pitch-classes in some order.
                </p>
                <div class="codeReference">
                    <h4><span class="code"><span class="pyKeyword">class</span> <span class="pyClass">InvarianceMatrix</span></span></h4>
                    <p>
                        Represents an invariance matrix, as developed by Bo Alphonse. An invariance
                        matrix allows you to easily visualize invariances under the operations of
                        transposition and various forms of multiplication (M5, M7, M11/I in the
                        chromatic system).
                        This class builds an invariance matrix automatically from two provided
                        pcsegs and the operation requested.
                    </p>
                    <div class="codeIndent1Reference">
                        <h4><span class="subhead"><span class="code pyClass">InvarianceMatrix</span> constructor</span></h4>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.__init__(mx_type=<span class="pyStr">&quot;T&quot;</span>, a: <span class="pyKeyword">list</span>, c: <span class="pyKeyword">list</span>)</span></h5>
                        <p>
                            Constructs a <span class="code pyClass">InvarianceMatrix</span>. 
                            The <span class="code">mx_type</span> specifies what kind of invariance matrix is
                            being created. (For chromatic pcsegs, these are <span class="code pyStr">&quot;T&quot;</span>,
                            <span class="code pyStr">&quot;M5&quot;</span>, <span class="code pyStr">&quot;M7&quot;</span>,
                            and <span class="code pyStr">&quot;M11&quot;</span> or <span class="code pyStr">&quot;I&quot;</span>.
                            For microtonal pcsegs, these are <span class="code pyStr">&quot;T&quot;</span>,
                            <span class="code pyStr">&quot;M5&quot;</span>, <span class="code pyStr">&quot;M7&quot;</span>,
                            <span class="code pyStr">&quot;M11&quot;</span>, <span class="code pyStr">&quot;M13&quot;</span>,
                            <span class="code pyStr">&quot;M17&quot;</span>, <span class="code pyStr">&quot;M19&quot;</span>,
                            and <span class="code pyStr">&quot;M23&quot;</span> or <span class="code pyStr">&quot;I&quot;</span>.)
                            You can also provide pcsegs A and C to the constructor, or you can load them later using the
                            <span class="code">load_matrix()</span> method.
                        </p>
                        <h4><span class="subhead"><span class="code pyClass">InvarianceMatrix</span> read-only properties</span></h4>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.mx<span class="returnType">[<span class="pyKeyword">list</span>]</span></span></h5>
                        <p>
                            Gets the entire invariance matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.pcseg_a</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></span></h5>
                        <p>
                            Gets the pcseg A.
                        </p>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.pcseg_b</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></span></h5>
                        <p>
                            Gets the transformed pcseg B.
                        </p>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.pcseg_c</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></span></h5>
                        <p>
                            Gets the pcseg C.
                        </p>
                        <h4><span class="subhead"><span class="code pyClass">InvarianceMatrix</span> methods</span></h4>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.get_column(j: <span class="pyKeyword">int</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></span></h5>
                        <p>
                            Gets the column at index <i>j</i> of the invariance matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.get_row(i: <span class="pyKeyword">int</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></span></h5>
                        <p>
                            Gets the row at index <i>i</i> of the invariance matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.load_matrix(a: <span class="pyKeyword">list</span>, c: <span class="pyKeyword">list</span>)</span></h5>
                        <p>
                            Imports pcsegs A and C and generates the <span class="code pyClass">InvarianceMatrix</span>.
                        </p>
                        <h5><span class="code"><span class="pyClass">InvarianceMatrix</span>.print(include: <span class="pyKeyword">list</span> = <span class="pyKeyword">None</span>)</span></h5>
                        <p>
                            Prints the invariance matrix. You can filter the matrix by providing a list of 
                            pitch-classes as a parameter to this function. This will print only the pcs
                            in the list, which is useful for isolating invariances at specific transpositions.
                        </p>
                        <h4><span class="subhead"><span class="code pyClass">InvarianceMatrix</span> overloaded special functions</span></h4>
                        <p>
                            Overloaded special functions include <span class="code">__getitem__()</span>, 
                            <span class="code">__repr__()</span>, and <span class="code">__str__()</span>.
                            Basically, this means that you can index an <span class="code pyClass">InvarianceMatrix</span>
                            object (for example, <span class="code">my_invariance_mx[i][j]</span>) to get the
                            contents of a specific cell.
                            The <span class="code">str()</span> implementation allows 
                            <span class="code pyClass">InvarianceMatrix</span> objects to be printed.
                        </p>
                    </div>
                    <h4><span class="code"><span class="pyKeyword">class</span> <span class="pyClass">TwelveToneMatrix</span></span></h4>
                    <p>
                        Represents a twelve-tone matrix. This matrix is really only useful for visualization,
                        as you can create rows as pcsegs and transform them without creating a
                        <span class="code pyClass">TwelveToneMatrix</span> object.
                    </p>
                    <div class="codeIndent1Reference">
                        <h4><span class="subhead"><span class="code pyClass">InvarianceMatrix</span> constructor</span></h4>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.__init__(row=<span class="pyKeyword">None</span>)</span></h5>
                        <p>
                            Constructs a <span class="code pyClass">TwelveToneMatrix</span>. You can provide a row
                            to initialize the matrix.
                        </p>
                        <h4><span class="subhead"><span class="code pyClass">TwelveToneMatrix</span> read-only properties</span></h4>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.matrix<span class="returnType">[<span class="pyKeyword">list</span>]</span></span></h5>
                        <p>
                            Gets the entire twelve-tone matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.labels_bottom</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span></h5>
                        <p>
                            Gets the RI labels for the bottom side of the matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.labels_left</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span></h5>
                        <p>
                            Gets the T labels for the right side of the matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.labels_right</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span></h5>
                        <p>
                            Gets the R labels for the left side of the matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.labels_top</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span></h5>
                        <p>
                            Gets the I labels for the top side of the matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.row</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span></h5>
                        <p>
                            Gets the row that represents the row-class in the <span class="code pyClass">TwelveToneMatrix</span>.
                        </p>
                        <h4><span class="subhead"><span class="code pyClass">TwelveToneMatrix</span> methods</span></h4>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.get_column(j: <span class="pyKeyword">int</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span></h5>
                        <p>
                            Gets the column at index <i>j</i> of the matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.get_row(i: <span class="pyKeyword">int</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></span></h5>
                        <p>
                            Gets the row at index <i>i</i> of the matrix.
                        </p>
                        <h5><span class="code"><span class="pyClass">TwelveToneMatrix</span>.import_row(row: <span class="pyKeyword">list</span>)</span></h5>
                        <p>
                            Imports a row and generates the <span class="code pyClass">TwelveToneMatrix</span>.
                        </p>
                        <h4><span class="subhead"><span class="code pyClass">TwelveToneMatrix</span> overloaded special functions</span></h4>
                        <p>
                            Overloaded special functions include <span class="code">__getitem__()</span>, 
                            <span class="code">__repr__()</span>, and <span class="code">__str__()</span>.
                            Basically, this means that you can index an <span class="code pyClass">TwelveToneMatrix</span>
                            object (for example, <span class="code">my_tt_mx[i][j]</span>) to get the
                            contents of a specific cell.
                            The <span class="code">str()</span> implementation allows 
                            <span class="code pyClass">TwelveToneMatrix</span> objects to be printed.
                        </p>
                    </div>
                    <h5><span class="code">bip_n(imb_n: <span class="pyKeyword">list</span>)<span class="returnType">[<span class="pyKeyword">int</span>]</span></span></h5>
                    <p>
                        Gets the basic interval pattern (BIP) of a pcseg. Requires a list of imbricated set-classes
                        from the <span class="code">imb_n()</span> function.
                    </p>
                    <h5><span class="code">create_ormap(pcseg: <span class="pyKeyword">list</span>)</span><span class="returnType code">{<span class="pyClass">PitchClass12</span>: <span class="pyKeyword">int</span>}</span>or<span class="returnType2 code">{<span class="pyClass">PitchClass24</span>: <span class="pyKeyword">int</span>}</span></h5>
                    <p>
                        Creates an order map (ORMAP) of a pcseg. The map is a dictionary, with 
                        <span class="code pyClass">PitchClass12</span> or <span class="code pyClass">PitchClass24</span>
                        keys and <span class="code pyKeyword">int</span> values (which represent the index of the
                        pitch-class in the row).
                    </p>
                    <h5><span class="code">generate_pcseg12_from_interval_list(interval_list: <span class="pyKeyword">list</span>, starting_pc=<span class="pyKeyword">None</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></h5>
                    <p>
                        Generates a chromatic pcseg from an interval list. If the starting pc is <span class="code pyKeyword">None</span>,
                        a random starting pc will be selected. The starting pc can be an <span class="code pyKeyword">int</span>
                        or <span class="code pyClass">PitchClass12</span>.
                    </p>
                    <h5><span class="code">generate_pcseg24_from_interval_list(interval_list: <span class="pyKeyword">list</span>, starting_pc=<span class="pyKeyword">None</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass24</span>]</span></h5>
                    <p>
                        Generates a microtonal pcseg from an interval list. If the starting pc is <span class="code pyKeyword">None</span>,
                        a random starting pc will be selected. The starting pc can be an <span class="code pyKeyword">int</span>
                        or <span class="code pyClass">PitchClass24</span>.
                    </p>
                    <h5><span class="code">generate_random_all_interval_row(name_tables=<span class="pyKeyword">None</span>, starting_pc=<span class="pyKeyword">None</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></h5>
                    <p>
                        Generates a random all-interval twelve-tone row. All of the row generators are present in a name table,
                        which you can generate with the function <span class="code">tables.create_tables_row()</span>.
                        If no name table is provided, it will be generated automatically. The starting pc can be an <span class="code pyKeyword">int</span>
                        or <span class="code pyClass">PitchClass12</span>.
                    </p>
                    <h5><span class="code">generate_random_pcseg12(length: <span class="pyKeyword">int</span>, non_duplicative: <span class="pyKeyword">False</span>, starting_pc=<span class="pyKeyword">None</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span></h5>
                    <p>
                        Generates a random chromatic pcseg. This pcseg will be a row if the length is 12 and it is
                        nonduplicative.
                        The starting pc can be an <span class="code pyKeyword">int</span>
                        or <span class="code pyClass">PitchClass12</span>.
                    </p>
                    <h5><span class="code">generate_random_pcseg24(length: <span class="pyKeyword">int</span>, non_duplicative: <span class="pyKeyword">False</span>, starting_pc=<span class="pyKeyword">None</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass24</span>]</span></h5>
                    <p>
                        Generates a random microtonal pcseg.
                        The starting pc can be an <span class="code pyKeyword">int</span>
                        or <span class="code pyClass">PitchClass24</span>.
                    </p>
                    <h5><span class="code">generate_random_pcseg_from_pcset(pcset: <span class="pyKeyword">set</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></h5>
                    <p>
                        Generates a pcseg from a provided pcset. The order of the pitch-classes will be random.
                        This is useful for experimenting with different orderings of a pcset.
                    </p>
                    <h5><span class="code">get_intervals(pcseg: <span class="pyKeyword">list</span>)</span><span class="returnType code">[<span class="pyKeyword">int</span>]</span></h5>
                    <p>
                        Gets the interval succession of a pcseg.
                    </p>
                    <h5><span class="code">imb_n(pcseg: <span class="pyKeyword">list</span>, n: <span class="pyKeyword">int</span>, name_tables=<span class="pyKeyword">None</span>)</span><span class="returnType code">[<span class="pyClass">SetClass12</span>]</span>or<span class="returnType2 code">[<span class="pyClass">SetClass24</span>]</span></h5>
                    <p>
                        Gets the succession of imbricated set-classes of cardinality <i>n</i> from a pcseg.
                        If you are working with <span class="code pyClass">PitchClass12</span> objects, and if
                        you have created a name table for chromatic set-classes, you can provide that to this function.
                        Otherwise, a table will be generated.
                    </p>                    
                    <h5><span class="code">invert(pcseg: <span class="pyKeyword">list</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></h5>
                    <p>
                        Inverts a pcset by using the M<sub>11</sub> or M<sub>23</sub> operations, depending on
                        whether the pcset contains <span class="code pyClass">PitchClass12</span> or 
                        <span class="code pyClass">PitchClass24</span> elements.
                    </p>
                    <h5><span class="code">is_valid_row(pcseg: <span class="pyKeyword">list</span>)</span><span class="returnType code"><span class="pyKeyword">bool</span></span></h5>
                    <p>
                        Determines if a pcseg is a valid row.
                    </p>                    
                    <h5><span class="code">is_valid_rgen(rgen: <span class="pyKeyword">list</span>)</span><span class="returnType code"><span class="pyKeyword">bool</span></span></h5>
                    <p>
                        Determines if a provided row generator (rgen) can generate a valid row.
                        A row generator is a succession of 11 intervals.
                    </p>                    
                    <h5><span class="code">make_pcseg12(*args)<span class="returnType">[<span class="pyClass">PitchClass12</span>]</span></span></h5>
                    <p>
                        Creates a chromatic pcseg from one or more <span class="code pyKeyword">int</span> values.
                    </p>
                    <h5><span class="code">make_pcseg24(*args)<span class="returnType">[<span class="pyClass">PitchClass24</span>]</span></span></h5>
                    <p>
                        Creates a microtonal pcseg from one or more <span class="code pyKeyword">int</span> values.
                    </p>
                    <h5><span class="code">multiply(pcseg: <span class="pyKeyword">list</span>, n: <span class="pyKeyword">int</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></h5>
                    <p>
                        Multiplies a pcseg using the operator M<sub><i>n</i></sub>.
                    </p>
                    <h5><span class="code">multiply_order(pcseg: <span class="pyKeyword">list</span>, n: <span class="pyKeyword">int</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></h5>
                    <p>
                        Multiplies the order of a pcseg, mod the length of the pcseg.
                    </p>
                    <h5><span class="code">ormap(row: <span class="pyKeyword">list</span>, ormap: <span class="pyKeyword">dict</span>)</span><span class="returnType code">[<span class="pyKeyword">int</span>]</span></h5>
                    <p>
                        Applies an existing ORMAP to a row, and returns a list with the mapping of that row.
                    </p>
                    <h5><span class="code">prot(pcseg: <span class="pyKeyword">list</span>, n: <span class="pyKeyword">int</span>)</span><span class="returnType code">{(<span class="pyClass">PitchClass12</span>, <span class="pyClass">PitchClass12</span>)}</span>or<span class="returnType2 code">{(<span class="pyClass">PitchClass12</span>, <span class="pyClass">PitchClass12</span>)}</span></h5>
                    <p>
                        Generates the protocol pairs of a pcseg. A protocol pair is an ordered pair of pitch-classes (<i>p</i>, <i>q</i>),
                        such that both <i>p</i> and <i>q</i> are in the pcseg, and 
                        <i>p</i> comes before <i>q</i> in the pcseg. A complete list of protocol pairs
                        unambiguously defines the ordering of a pcseg.
                    </p>
                    <h5><span class="code">retrograde(pcseg: <span class="pyKeyword">list</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span>or<span class="returnType2 code">[<span class="pyClass">PitchClass24</span>]</span></h5>
                    <p>
                        Retrogrades a pcset. This is the same as <span class="code"><span class="pyKeyword">list</span>.reverse()</span>
                        but this function returns a copy rather than reversing the original list.
                    </p>
                    <h5><span class="code">rotate(pcset: <span class="pyKeyword">set</span>, n: <span class="pyKeyword">int</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span>or<span class="returnType2 code">{<span class="pyClass">PitchClass24</span>}</span></h5>
                    <p>
                        Rotates a pcseg to the left <i>n</i> positions, using the operator r<sub><i>n</i></sub>.
                    </p>
                    <h5><span class="code">transpose(pcset: <span class="pyKeyword">set</span>, n: <span class="pyKeyword">int</span>)</span><span class="returnType code">[<span class="pyClass">PitchClass12</span>]</span>or<span class="returnType2 code">{<span class="pyClass">PitchClass24</span>}</span></h5>
                    <p>
                        Transposes a pcseg using the operator T<sub><i>n</i></sub>.
                    </p>
                    
                </div>
            </div>
            <aside class="sidebar">
                <h3>Documentation for pctheory</h3>
                <hr/>
                <p><a href="pc-pctheory.html">1. Introduction</a></p>
                <p><a href="pc-pctheorym.html">2. pctheory module reference</a></p>
                <div class="indent1">
                    <p><a href="pc-pctheory-array.html">2.1. pctheory.array</a></p>
                    <p><a href="pc-pctheory-cseg.html">2.2. pctheory.cseg</a></p>
                    <p><a href="pc-pctheory-group.html">2.3. pctheory.group</a></p>
                    <p><a href="pc-pctheory-pcseg.html">2.4. pctheory.pcseg</a></p>
                    <p><a href="pc-pctheory-pcset.html">2.5. pctheory.pcset</a></p>
                    <p><a href="pc-pctheory-pitch.html">2.6. pctheory.pitch</a></p>
                    <p><a href="pc-pctheory-poset.html">2.7. pctheory.poset</a></p>
                    <p><a href="pc-pctheory-pseg.html">2.8. pctheory.pseg</a></p>
                    <p><a href="pc-pctheory-pset.html">2.9. pctheory.pset</a></p>
                    <p><a href="pc-pctheory-set_complex.html">2.10. pctheory.set_complex</a></p>
                    <p><a href="pc-pctheory-tables.html">2.11. pctheory.tables</a></p>
                    <p><a href="pc-pctheory-tempo.html">2.12. pctheory.tempo</a></p>
                    <p><a href="pc-pctheory-transformations.html">2.13. pctheory.transformations</a></p>
                    <p><a href="pc-pctheory-util.html">2.14. pctheory.util</a></p>
                </div>
            </aside>
        </div>

        <footer>
            <div class="footerDiv">
                <p>
                    Copyright &copy;2022 by Jeffrey Martin. All rights reserved. <a href="https://jeffreymartincomposer.com/">https://jeffreymartincomposer.com/</a>
                </p>
            </div>
        </footer>
    </body>
</html>